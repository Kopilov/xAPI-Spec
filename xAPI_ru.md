# Experience API
## Лаборатория ADL (передовые технологии распределённого обучения)

>"Инициировано ADL, Министерство обороны США, 2013. Все права сохранены.

>Лицензировано лицензией Apache 2.0 (далее «Лицензия»). Вы не можете использовать этот документ без
>согласования с Лицензией. Вы можете получить копию Лицензии тут:
>http://www.apache.org/licenses/LICENSE-2.0

>При отсутствии законодательных требований или письменных соглашений, программное обеспечение по лицензии
>распространяется «КАК ЕСТЬ», БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ ИЛИ УСЛОВИЙ, явных или подразумеваемых.
>Основные разрешения и ограничения смотрите в Лицензии."

>Данный документ написан участниками команды  разработчиков Experience API (см.
>список на стр. 7-8) при поддержке Заместитель помощника секретаря обороны ADL.
>Пожалуйста, отправляйте отзывы и вопросы на адрес helpdesk@adlnet.gov

>Перевод написан студентами СПб НИУ ИТМО. de@mail.ifmo.ru  

## Содержание
*	1.0.	[Обзор истории](#revhistory)  
*	2.0.	[Роль Experience API](#roleofxapi)
	*	2.1.	[Роль ADL при разработке Experience API](#adlrole)  
 	*	2.2.	[Авторы](#contributors)
 		*	2.2.1.	[Команда участников](#wg)  
		*	2.2.2.	[Участники сбора требований](#reqparticipants) 
	*	2.2.3	[Указания к прочтению для нетехнического уклона](#readingguidelines)
*	3.0.	[Определения](#definitions)  
*	4.0.	[Утверждение](#statement)  
    *	4.1.	[Свойства Утверждения](#stmtprops)  
        *	4.1.1.	[ID](#stmtid)  
        *	4.1.2.	[Исполнитель](#actor)  
        *	4.1.3.	[Действие](#verb)  
        *	4.1.4.	[Объект](#object)  
        *	4.1.5.	[Результат](#result)  
        *	4.1.6.	[Контекст](#context)  
        *	4.1.7.	[Timestamp](#timestamp)  
        *	4.1.8.	[Stored](#stored)  
        *	4.1.9.	[Authority](#authority)  
        *	4.1.10.	[Version](#version)  
        *	4.1.11.	[Attachments](#attachments)  
        *	4.1.12.	[Data Constraints](#dataconstraints)  
    *	4.2.	[Retrieval of Statements](#retstmts)  
	*	4.3.	[Voided](#voided)  
	*	4.4.	[Signed Statements](#signature)  
*	5.0.	[Miscellaneous Types](#misctypes)  
    *	5.1.	[Document](#miscdocument)  
    *	5.2.	[Language Map](#misclangmap)  
    *	5.3.	[Extensions](#miscext)  
    *	5.4.	[Identifier Metadata](#miscmeta)  
*	6.0.	[Run-time Communication](#rtcom)  
    *	6.1.	[Encoding](#encoding)  
    *	6.2.	[API Versioning](#apiversioning)  
    *	6.3.	[Concurrency](#concurrency)  
    *	6.4.	[Security](#security)  
		*	6.4.1.	[Process for Each Scenario](#authdefs)  
		*	6.4.2.	[OAuth Authorization Scope](#oauthscope)  
*	7.0.	[Data Transfer (REST)](#datatransfer)  
    *	7.1.	[Error Codes](#errorcodes)  
    *	7.2.	[Statement API](#stmtapi)
    	*	7.2.1 [PUT Statements](#stmtapiput)
    	*	7.2.2 [POST Statements](#stmtapipost)
    	*	7.2.3 [GET Statements](#stmtapiget)
    	*	7.2.4 [Voided Statements](#voidedStatements)	  
    *	7.3.	[Document APIs](#docapis)  
    *	7.4.	[State API](#stateapi)  
    *	7.5.	[Activity Profile API](#actprofapi)  
    *	7.6.	[Agent Profile API](#agentprofapi)  
    *	7.7.	[About resource](#aboutresource)  
    *	7.8.	[Cross Origin Requests](#cors)  
    *	7.9.	[Validation](#validation)  
    *	7.10.	[HTTP HEAD](#httphead)  
*	[Appendix A: Example Statements](#AppendixA)  
*	[Appendix B: Example statement objects of different types](#AppendixB)  
*	[Appendix C: Example definitions for Activities of type "cmi.interaction"](#AppendixC)  
*	[Appendix D: Converting Statements to 1.0.0](#AppendixD)   
*	[Appendix E: Example Signed Statement](#AppendixE)
*	[Appendix F: Table of All Endpoints](#AppendixF)

<a name="revhistory"/>  

## 1.0 Обзор истории
###### 0.8 (Первый выход проекта Tin Can API) - 0.9 (31 марта 2012)  
  
Компания Rustici Software, разработавшая проект Tin Can API, вносисла изменения в 
API до ознакомительной встречи в апреле 2012 года. На этой встрече было решено 
использовать изменения в текущей спецификации, версии 0.9.

###### 0.90 - 0.95 (31 августа 2012)  

«Ядровые» Действия (Verb) и типы Задач (Activity) удалены из спецификации. Ссылки 
на эти команды так же удалены. При реализации API рекомендуется использовать команды, 
определённые сообществом, а не создавать свои собственные.
- Действия, типы Задач и ключи расширений теперь в виде URI.
- Переписано и уточнено (???) о некоторых других деталях и объёме реализации.
- Переход от человек-ориентированного представления Cубъекта (Agent) к образ-ориентированному.
- Требование объединения Друга Друга (Friend of a Friend, FOAF) Субъекта удалено.
- Субъект должен иметь ровно одно уникальное идентифицирующее свойство, а не хотя бы одно.

###### 0.95 - 1.0.0 (26 апреля 2013) 
Различные усовершенствования и оптимизация, в том числе:
- Вложения
- Данные о Задачах сохраняются в JSON, а не в XML
- Изменения в Утверждениях аннулирования (voiding Statements)
- Оптимизация и именование API Документа (Document)
- Изменения в вызывании API Утверждений
- Подписанные Утверждения

###### 1.0.0 - 1.0.1 (1 октября 2013)
Оптиизация и примеры, в том числе:
- Исправление опечаток
- Дополнительные примеры в приложениях

<a name="roleofxapi"/>

## 2.0 Роль Experience API  
Experience API – сервис, который позволяет передавать и размещать в хранилище учебных достижений
(Learning Record Store, LRS) результаты обучения или какой-либо другой деятельности, способствующей
приобретению опыта.  Информация, которая размещается в хранилище, создаётся и отслеживается
провайдерами задач (Activity Providers), посредством которых формируются результаты обучения или
приобретается опыт, а спецификация Experience API описывает только модель данных и компоненты,
сопутствующие решению основных задач.

В частности, Experience API обеспечивает:  

* Структуру и определение классов Statement (утверждение), State (состояние),
Learner (учащийся), Activity (задача) и объектов, с помощью
которых провайдер задач представляет информацию о приобретённом опыте.

* Методы передачи данных для сохранения и поиска (но не валидации) экземпляров
этих классов в хранилище учебных достижений. Необходимо отметить, что не только
провайдеры задач могут сохранять данные и осуществлять поиск записей.
Каждое хранилище  может взаимодействовать с другими хранилищами учебных достижений
или системами для формирования отчётов.

* Способы защиты, обеспечивающие безопасный обмен информацией между хранилищем и
проверенными источниками.

Experience API – первая из многочисленных технологий, включающая
расширенную архитектуру онлайн-обучения. Сервисы аутентификации, сервисы запросов,
сервисы визуализации и сервисы персональных данных – только некоторые из
дополнительных технологий, поддержка которых предусмотрена Experience API.
Хотя детали реализации этих сервисов здесь не рассматриваются, спецификация
Experience API разработана с расчётом на расширенные возможности новой архитектуры.
 
<a name="adlrole"/>

### 2.1 Роль ADL в разработке Experience API
Некоммерческая организация ADL (Advanced Distributed Learning – передовые технологии распределённого обучения) сыграла роль
координатора и посредника в разработке спецификации. Experience API рассматривается как часть архитектуры обучения ADL,
которая сориентирована на возможность обучения когда угодно и где угодно. ADL представляет Experience API как улучшенную
версию SCORM (Sharable Content Object Reference Model – эталонная модель совместного доступа к контенту), поддерживающую
аналогичные варианты использования, а так же другие, отобранные ADL, относящиеся к электронному обучению, но не включённые
в SCORM.  
 
<a name="contributors"/> 

### 2.2 Авторы
>_"Я благодарен всем, кто принимал участие в этом проекте. Многие из вас
участвовали в еженедельных совещаниях и помогали сделать спецификацию
полезной для всего сообщества дистанционного обучения. Многие из вас
помогали в создании примеров кода, продукции и документации, чтобы
поддержать тех, кто разрабатывает и подтверждает спецификацию. Я так же хочу
поблагодарить всех тех, кто поделился полезной, честной информацией
об использовании в их компаниях SCORM и других технологий обучения.
По предложенным требованиям, предоставленному опыту и Вашим знаниям ADL
и сообщество чётко определило первый шаг в создании Experience API – 
Архитектуры тренинга и обучения. Вы настоящие лидеры сообщества,
на вас мы опираемся, делая наше обучение наилучшим."_

Kristy S. Murray, Ed.D.  
Директор компании ADL  
OSD, Training Readiness & Strategy (TRS)  

<a name="wg"/>

### 2.2.1 Команда участников  
<table>
	<tr><th>Name</th><th>Organization</th></tr>
	<tr><td>Aaron Silvers</td><td>ADL</td></tr>
	<tr><td>Al Bejcek</td><td>NetDimensions</td></tr>
	<tr><td>Ali Shahrazad</td><td>SaLTBOX</td></tr>
	<tr><td>Andrew Downes</td><td>Epic</td></tr>
	<tr><td>Andy Johnson</td><td>ADL</td></tr>
	<tr><td>Andy Whitaker</td><td>Rustici Software</td></tr>
	<tr><td>Anthony Altieri</td><td>American Red Cross</td></tr>
	<tr><td>Anto Valan</td><td>Omnivera Learning Solutions</td></tr>
	<tr><td>Avron Barr</td><td>Aldo Ventures, Inc.</td></tr>
	<tr><td>Ben Clark</td><td>Rustici Software</td></tr>
	<tr><td>Bill McDonald</td><td>Boeing</td></tr>
	<tr><td>Brian J. Miller</td><td>Rustici Software</td></tr>
	<tr><td>Chad Udell</td><td>Float Mobile Learning</td></tr>
	<tr><td>Chris Sawwa</td><td>Meridian Knowledge Solutions</td></tr>
	<tr><td>Dan Allen</td><td>Litmos</td></tr>
	<tr><td>Dan Kuemmel</td><td>Sentry Insurance</td></tr>
	<tr><td>Dave Mozealous</td><td>Articulate</td></tr>
	<tr><td>David Ells</td><td>Rustici Software</td></tr>
	<tr><td>David N. Johnson</td><td>Clear Learning Systems</td></tr>
	<tr><td>Doug Hagy</td><td>Twin Lakes Consulting Corporation</td></tr>
	<tr><td>Eric Johnson</td><td>Planning and Learning Technologies, Inc.</td></tr>
	<tr><td>Fiona Leteney</td><td>Feenix e-learning</td></tr>
	<tr><td>Greg Tatka</td><td>Menco Social Learning</td></tr>
	<tr><td>Ingo Dahn</td><td>University Koblenz-Landau</td></tr>
	<tr><td>Jason Haag</td><td>ADL</td></tr>
	<tr><td>Jeff Place</td><td>Questionmark</td></tr>
	<tr><td>Jennifer Cameron</td><td>Sencia Corporate Web Solutions</td></tr>
	<tr><td>Jeremy Brockman</td><td> </td></tr>
	<tr><td>Jhorlin De Armas</td><td>Riptide Software</td></tr>
	<tr><td>Joe Gorup</td><td>CourseAvenue</td></tr>
	<tr><td>John Kleeman</td><td>Questionmark</td></tr>
	<tr><td>Jonathan Archibald</td><td>Brightwave</td></tr>
	<tr><td>Jonathan Poltrack</td><td>ADL</td></tr>
	<tr><td>Kris Miller</td><td>edcetra Training</td></tr>
	<tr><td>Kris Rockwell</td><td>Hybrid Learning Systems</td></tr>
	<tr><td>Lang Holloman</td><td> </td></tr>
	<tr><td>Lou Wolford</td><td>ADL</td></tr>
	<tr><td>Luke Hickey</td><td>dominKnow</td></tr>
	<tr><td>Marcus Birtwhistle</td><td>ADL</td></tr>
	<tr><td>Mark Davis</td><td>Exambuilder</td></tr>
	<tr><td>Matteo Scaramuccia</td><td> </td></tr>
	<tr><td>Megan Bowe</td><td>Rustici Software</td></tr>
	<tr><td>Melanie VanHorn</td><td>ADL</td></tr>
	<tr><td>Michael Flores</td><td>Here Everything's Better</td></tr>
	<tr><td>Michael Roberts</td><td>vTrainingRoom</td></tr>
	<tr><td>Mike Palmer</td><td>OnPoint Digital</td></tr>
	<tr><td>Mike Rustici</td><td>Rustici Software</td></tr>
	<tr><td>Nick Washburn</td><td>Riptide Software</td></tr>
	<tr><td>Nikolaus Hruska</td><td>ADL</td></tr>
	<tr><td>Pankaj Agrawal</td><td>Next Software Solutions</td></tr>
	<tr><td>Patrick Kedziora</td><td>Kedzoh</td></tr>
	<tr><td>Paul Esch</td><td>Nine Set</td></tr>
	<tr><td>Paul Roberts</td><td>Questionmark</td></tr>
	<tr><td>Rich Chetwynd</td><td>Litmos</td></tr>
	<tr><td>Richard Fouchaux</td><td>Ontario Human Rights  Commission</td></tr>
	<tr><td>Richard Lenz</td><td>Organizational Strategies, Inc.</td></tr>
	<tr><td>Rick Raymer</td><td></td></tr>
	<tr><td>Rob Chadwick</td><td>ADL</td></tr>
	<tr><td>Robert Lowe</td><td>NetDimensions</td></tr>
	<tr><td>Russell Duhon</td><td>SaLTBOX</td></tr>
	<tr><td>Stephen Trevorrow</td><td>Problem Solutions, LLC.</td></tr>
	<tr><td>Steve Baumgartner</td><td></td></tr>
	<tr><td>Steve Flowers</td><td>XPConcept</td></tr>
	<tr><td>Thomas Ho</td><td></td></tr>
	<tr><td>Tim Martin</td><td>Rustici Software</td></tr>
	<tr><td>Tom Creighton</td><td>ADL</td></tr>
	<tr><td>Walt Grata</td><td>ADL</td></tr>
</table> 
##### Авторы перевода
<table>
	<tr><td>Лямин Андрей Владмирович</td><td>СПб НИУ ИТМО</td></tr>
	<tr><td>Копилов Александр Дмитриевич</td><td>СПб НИУ ИТМО</td></tr>
</table>

<a name="reqparticipants"/> 

#### 2.2.2 Участники сбора требований  
В коллекции требований к Experience API многие люди и
компании предоставляли бесценные отзывы о SCORM, попытках проведения дистанционного
обучения и образования в целом. Хотя список и не полный, документы, собранные
в 2008 году группой LETSI (Learning Education and Training Standards Interoperability – 
Совместимость стандартов обучения), на сайте Rustici Software _UserVoice_,
в личных интервью и различных блогах были важными источниками требований к
спецификации Experience API.

<a name="readingguidelines"/> 

### 2.3 Указания к прочтению для нетехнического уклона

Это точный документ, описывающий, как спецификация Experience API должна быть реализована
в различных системах. Это технический документ, написанный специально для лиц
и организаций, реализующих данную технологию, чтобы они могли разрабатывать
совместимые инструменты, системы и сервисы, независимые друг от друга
и совместимые между собой. 

Насколько возможно, язык и форматирование в этом документе целенаправленно сделаны
_дружественными_ к нетехническим читателям, поскольку многие инструменты, системы и сервисы
основаны на описанной ниже спецификации. Поэтому, разделы, предоставляющие
_общий обзор_ аспектов помечены, как **описание** или **пояснение**.
Элементы, помеченные как **требования**, **детали** или **примеры** более технические.

<a name="definitions"/>
 
## 3.0 Определения и сокращения  

* [Experience API, xAPI](#def-experience-api)
* [IRI](#def-iri)
* [IRL](#def-irl)
* [LMS](#def-learning-management-system)
* [LRS](#def-learning-record-store)
* [REST](#def-rest)
* [Tin Can API (TCAPI)](#def-tcapi)
* [Авторизация](#def-authorization)
* [Аутентификация](#def-authentication)
* [Действие (Verb)](#def-verb)
* [Задача (Activity)](#def-activity)
* [Исполнитель (Actor)](#def-actor)
* [Клиент (Client)](#def-client)
* [Неизменный](#def-immutable)
* [Обратный идентификатор (Inverse Functional Identifier)](#def-inverse-functional-identifier)
* [ОБЯЗАН / ДОЛЖЕН / МОЖЕТ (MUST / SHOULD / MAY)](#def-must-should-may)
* [Провайдер задач (Activity Provider, AP)](#def-activity-provider)
* [Профиль (Profile)](#def-profile)
* [Регистрация (Registration)](#def-registration)
* [Сeрвис](#def-service)
* [Профессиональное сообщество](#def-community-of-practice)
* [Утверждение (Statement)](#def-statement)

<a name="def-experience-api" />

__Experience API, xAPI (интерфейс учебного процесса)__: Программный интерфейс, определённый этим документом, продукт
Проекта «Tin Can». Простой, легковесный способ, позволяющий имеющим право Исполнителям сохранять
и восстанавливать расширяемые записи об учёбе, профили учащегося и учебного процесса, 
независимо от платформы.  

<a name="def-iri" />

__IRI (Internationalized Resource Identifier, Интернационализированный идентификатор ресурса)__:  
Уникальный идентификатор, в частности IRL.
В xAPI все IRI должны быть абсолютными (включать имя схемы). Относительные IRI
использоваться не должны. IRL должны быть на домене, принадлежащем автору.

<a name="def-irl" />

__IRL (Internationalized Resource Locator, Интернационализированный локатор ресурса)__:  
В контексте данного документа, IRL – это IRI, который при преобразовании IRI в URI
по соответствующим правилам, образует URL. 
Некоторые практикуют обычное использование URL, даже если они являются IRI, что в
xAPI не вполне корректно.

<a name="def-learning-management-system" />

__LMS (Learning Management System, Система управления обучением)__:
«Программный продукт, используемый для администрирования одного или более учебного курса для одного или более учащегося.
Обычно LMS – web-системы, позволяющие учащимся аутентифицироваться, записываться на курсы, проходить курсы и получать
оценки» (определение Лаборатории архитектуры обучающих систем, Learning Systems Architecture Lab). В этом документе
термин подразумевает существующие системы, реализующие стандарты обучения.

<a name="def-learning-record-store" />

__LRS (Learning Record Store, Хранилище учебных достижений)__: Система, сохраняющая информацию об обучении. До xAPI 
большинство LRS были системами управления обучением (LMS); однако этот документ использует термин 
LRS, подразумевая, что полноценая LMS не обязательно должна поддерживать xAPI. Реализация xAPI
необходима для функционирования LRS.

<a name="def-rest" />

__REST (Representational State Transfer, Передача репрезентативного состояния)__:
Архитектура построения сетевых сервисов.
Она основана на протоколе HTTP и использует лучшие принципы web.

<a name="def-tcapi"/>

__Tin Can API (TCAPI)__: Предыдущее название API, определённого эти документом, часто используемое
в информационных ссылках на Experience API.  

<a name="def-authorization" />

__Авторизация__: Определение допустимых прав, основанных на роли пользователя в системе; 
процесс получение одним пользователем или системой «доверия» у другой.

<a name="def-authentication" />

__Аутентификация__: Понятие подтверждения подлинности пользователя или системы. Аутентификация 
обеспечивает взаимодействие двух «доверенных» сторон.

<a name="def-verb" />

__Действие (Verb)__: Действие, выполняемое Исполнителем над Задачей при Утверждении. 

<a name="def-activity" />

__Задача (Activity)__: Объект, представляющий «это» в утверждении «Я сделал „это“»; это что-то, 
с чем взаимодействует Исполнитель. Это может быть теоретический конспект, практикум или работа, выполняемая через 
осмысленное Действие в системе. Интерпретация Задачи широка, это значит, что задачей может быть даже 
материальный объект, такой, как стул (реальный или виртуальный). Например, в утверждении «Анна попыталась 
испечь торт по рецепту» рецепт является задачей в терминах утверждения xAPI. Другими примерами 
задач могут быть книга, электронный курс, экскурсия ил собрание.

<a name="def-actor" />

__Исполнитель (Actor)__: Личность или образ физ. лица или группа, выполняющая Действие над Задачей
с помощью Утверждений.

<a name="def-client" />

__Клиент (Client)__: - относится к чему угодно, взаимодействующему с LRS. Клиентом может быть
Провайдер задач, система отчётов, LMS или другое LRS.

<a name ="def-immutable" />

__Неизменный__:  признак, обозначающий предметы, которые не могут измениться.
С некоторыми оговорками, Утверждения в xAPI неизменны. Это означает, что при
распространении Утверждений в LRS все копии Утверждений остаются одинаковыми.

<a name="def-inverse-functional-identifier" />

__Обратный идентификатор (Inverse Functional Identifier)__: Идентификатор, уникальный для человека или групы.
Используется для идентификации Субъектов и Групп.

<a name="def-must-should-may" />

__ОБЯЗАН / ДОЛЖЕН / МОЖЕТ (MUST / SHOULD / MAY)__: Три уровня обязательства, определяющие соответствие спецификации xAPI.
Система, не реализующая требования с пометкой ОБЯЗАН (или ОБЯЗАН НЕ, НЕ МОЖЕТ, НЕЛЬЗЯ), не соответствует спецификации.
Отсутствие реализации требования ДОЛЖЕН не является нарушением совместимости, но делает систему неполноценной.
МОЖЕТ обозначает варианты, оставленные на решение разработчика и не влияющие на соответствие.

<a name="def-activity-provider" />

__Провайдер задач (Activity Provider, AP)__: Программный объект, который записывает в LRS
информацию об учебном процессе. Аналогичен SCORM-пакету, т.к. можно связать учебные ресурсы
(assets) с программным объектом, который выполнит запись, однако провайдер задач может
функционировать независимо от ресурса, о работе с которым создается запись

<a name="def-profile" />

__Профиль (Profile)__: Структура, содержащая информацию об учащемся или задаче, 
обычно в виде пар имя/документ, относящийся к компоненту учебной системы.

<a name="def-registration" />

__Регистрация (Registration)__: Ссылка на конкретного учащегося, решающего конкретную Задачу.

<a name="def-service" />

__Сервис__: Программный компонент, отвечающий за один или более аспект процесса дистанционного обучения.
LMS традиционно сочетают в себе много сервисов для формирования полноценного учебного процесса.

<a name="def-community-of-practice" />

__Профессиональное сообщество__: Группа, объединённая общим делом, ролью или
целью, действующая в общей модальности (в единой среде).

<a name="def-statement" />

__Утверждние (Statement)__: Простая конструкция, состоящая из ```<исполнителя (учащегося)>``` ```<действия>``` ```<объека>```, 
с ```<результатом>```, в ```<контексте>``` для описания учебного процесса. Набор из нескольких
утверждений позволяет детально описать учебный процесс.

<a name="statement"/> 

## 4.0 Утверждение  

###### Описание 
Утверждение является основой xAPI. Все события процесса обучения сохраняются в виде Утверждений.
Утверждения схожи с предложениями в форме «Я сделал это».

<a name="stmtprops"/>

### 4.1 Свойства Утверждения  

###### Детали
Детали каждого свойства утверждения описаны в таблице ниже.  

<table>
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr><td>id</td><td>UUID</td>
	<td>UUID, присвоенное LRS, если не было задано Провайдером задач.</td>
	<td>Рекомендуется</td></tr>
	<tr><td><a href="#actor">actor</a></td><td>Объект</td>
	<td>Исполнитель. О ком говорится в Утверждении, например, <a href="#agent">Субъект</a> или 
		<a href="#group">Группа</a>. Отображает «Я» в «Я сделал это».</td>
	<td>Обязательно</td></tr>
	<tr><td><a href="#verb">verb</a></td><td>Объект</td>
	<td>Действие Учащегося или Команды. Отображает «Сделал» в «Я сделал это».</td>
	<td>Обязательно</td></tr>
	<tr><td><a href="#object">object</a></td><td>Объект</td>
	<td>Объект. Задача, Субъект или другое Утверждение, являющеея объектом данного Утверждения. 
	Отображает «Это» в «Я сделал это». Заметьте, что Объект, подаваемый в качестве значения данного поля, должен 
	включать поле «Тип объекта». При его отсутствии Объект принимается 
	за Задачу.</td>
	<td>Обязательно</td></tr>
	<tr><td><a href="#result">result</a></td><td>Объект</td>
	<td>Результат Действия, дополнительные подробности и оценки.</td>
	<td>Опционально</td></tr>
	<tr><td><a href="#context">context</a></td><td>Объект</td>
	<td>Контекст, дающий больше смысла Утверждению. Например: команда, в которой работает 
	Исполнитель, высота выполнения трюка в авиасимуляторе.</td>
	<td>Опционально</td></tr>
	<tr><td><a href="#timestamp">timestamp</a></td><td>Дата/время</td>
	<td>Timestamp (временная отметка, отформатированная по стандарту <a href="https://ru.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) 
	с датой и временем, когда произошло событие, описанное в Утверждении. Если не указано, LRS 
	должно присвоить ему то же значение, что и полю "stored".</td>
	<td>Опционально</td></tr>
	<tr><td><a href="#stored">stored</a></td><td>Дата/время</td>
	<td>Timestamp (временная отметка, отформатированная по стандарту <a href="https://ru.wikipedia.org/wiki/ISO_8601">ISO 8601</a>) 
	с датой и временем, когда Утверждение было сохранено. Задаётся LRS.</td>
	<td>Задаётся LRS</td></tr>
	<tr><td><a href="#authority">authority</a></td><td>Object</td>
	<td>Авторитет. Субъект, подтверждающий подлинность Утверждения. Проверяется LRS согласно 
	аутентификации, устанавливается LRS, если не задано.</td>
	<td>Опционально</td></tr>
	<tr><td><a href="#version">version</a></td><td>Версия</td>
	<td>Версия xAPI, использованная для данного Утверждения, отформатированная по стандарту <a href="http://semver.org/spec/v1.0.0.html">Semantic Versioning 1.0.0</a>.</td>
	<td>Не рекомендуется</td></tr>
	<tr>
		<td><a href="#attachments">attachments</a></td>
		<td>Масив объектов-вложений</td>
	    <td>Заголовки вложений к Утверждению</td>
	<td>Опционально</td></tr>
</table>  

Не считая возможности (или обязанности) LRS инициализировать некоторые свойства 
("id", "authority", "stored", "timestamp", "version") в процессе сохранения,
Утверждения неизменны. Заметьте, что содержимое 
Задач, ссылки на которые даны в Утверждениях, не рассматривается, как содержимое 
самого Утверждения. Таким образом, хотя Утверждения являются неизменными, связанные с ними
Задачи таковыми не являются. Это означает, что детальная выгрузка Утверждения в формате 
JSON изменится при изменении связанных Задач (подробнее смотрите параметр
[API Утверждения](#stmtapi) "format").  

###### Требования 

* Утверждение ОБЯЗЯНО содержать каждое свойство не более одного раза.
* Утверждение ОБЯЗЯНО содержать свойства "actor", "verb", и "object".
* Утверждение МОЖЕТ содержать свойства в любом порядке.

###### Пример

Пример простейшего Утверждения, использующего все свойства, которые ОБЯЗАНЫ или ДОЛЖНЫ быть использованы:  
```
{
	"id": "12345678-1234-5678-1234-567812345678",
	"actor":{
		"mbox":"mailto:xapi@adlnet.gov"
	},
	"verb":{
		"id":"http://adlnet.gov/expapi/verbs/created",
		"display":{
			"en-US":"created"
		}
	},
	"object":{
		"id":"http://example.adlnet.gov/xapi/example/activity"
	}
}
```  
Больше примеров приведено в [Приложении C: Примеры Утверждений](#AppendixC). 

<a name="stmtid"/> 

#### 4.1.1 ID 

###### Описание 

 UUID (смотрите требования в [RFC 4122](http://www.ietf.org/rfc/rfc4122.txt),
так же UUID должно быть в стандартной текстовой форме).

###### Требования 

* Id ОБЯЗАНЫ генерироваться LRS, при сохранении Утверждения без Id.
* Id ДОЛЖНО генерироваться Провайдером задач.

<a name="actor"/>

#### 4.1.2 Исполнитель  

###### Описание 
Авторизованный Субъект или Группа.

<a name="agent"/>

##### 4.1.2.1 Когда Исполнителем является Субъект
###### Описание
Субъект – физ. лицо (индивид) или система.

###### Детали

* Субъект ОБЯЗАН идентифицироваться одним (1) из четырёх возможных Обратных идентификаторов (см.
<a href="#inversefunctional"> 4.1.2.3 Обратный идентификатор</a>);
* Субъект НЕ МОЖЕТ содержать более одного (1) Обратного идентификатора;
* Субъект НЕ ДОЛЖЕН ипользовать Обратные идентификаторы, используемые так же для групп.

Свойства Субъекта перечислены в таблице ниже.

<table border ="1">
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr><td>objectType</td><td>Строка</td><td>"Agent". Данное свойство опционально, кроме случаев, когда Субъект используется в качестве объекта Утверждения.</td>
	<td>Опционально</td></tr>
	<tr><td>name</td><td>Строка</td><td>Полное имя Субъекта.</td>
	<td>Опционально</td></tr>
	<tr><td colspan="2">см. <a href="#inversefunctional"> 4.1.2.3 Обратный идентификатор</a></td>
	    <td>Обратный идентификатор, уникальный для субъекта.</td>
	    <td>Обязательно</td></tr>
</table>


<a name="group"/>

##### 4.1.2.2 Когда Исполнителем является Группа
###### Описание

Группа представляет собой набор Субъектов и может быть использована в большинстве случаев, где применяется 
Субъект.  Имеется два типа Групп, анонимные и идентифицированные.

###### Детали

Анонимная Группа используется для описания группы людей, не имеющей собственного идентификатора, например,
команда «на один раз».

В таблице ниже перечислены все свойства Анонимной Группы.

<table border ="1">
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr><td>objectType</td><td>Строка</td><td>"Group". </td><td>Обязательно</td></tr>
	<tr><td>name</td><td>Строка</td><td>Имя группы.</td><td>Опционально</td></tr>
	<tr><td>member</td><td>Массив <a href="#agent">Субъектов</a></td><td>Члены группы.</td>
	<td>Обязательно</td></tr>
</table>

Идендифицированная группа используется для однозначной идентификации группы Субъектов.

В таблице ниже перечислены все свойства Иднтифицированной Группы.

<table border ="1">
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr><td>objectType</td><td>Строка</td><td>"Group". </td><td>Обязательно</td></tr>
	<tr><td>name</td><td>Строка</td><td>Имя группы.</td><td>Опционально</td></tr>
	<tr><td>member</td><td>Массив <a href="#agent">Субъектов</a></td><td>Члены группы.</td>
	<td>Опционально</td></tr>
	<tr><td colspan="2">см. <a href="#inversefunctional"> 4.1.2.3 Обратный идентификатор</a></td>
	    <td>Обратный идентификатор, уникальный для группы.</td><td>Обязательно</td></tr>
</table>

###### Требования

* Система, принимающая Утверждения, ОБЯЗАНА рассматривать каждую Анонимную Группу независимо, даже при наличии идентичного списка участников.
* Система, принимающая Утверждения, ОБЯЗАНА НЕ предполагать, что субъекты, перечисленные в свойстве 'member', являются полным списком участников
данной Анонимной или Идентифицированной группы.

###### Требования к Анонимной Группе

* Анонимная Группа ОБЯЗАНА содержать свойство 'member' со списком Субъектов-участников.
* Анонимная Группа НЕ МОЖЕТ иметь другие Группы в свойстве 'member'.
* Анонимная Группа НЕ МОЖЕТ иметь Обратных идентификаторов.

###### Требования к Идентифицированной Группе

* Идентифицированная группа ОБЯЗАНА иметь ровно один (1) Обратный идентификатор.
* Идентифицированная группа НЕ МОЖЕТ иметь другие Группы в свойстве 'member'.
* Идентифицированная группа НЕ ДОЛЖНА использовать Обратные идентификаторы, используемые так же Субъектами.
* Идентифицированная группа МОЖЕТ включать свойство 'member' со списком Субъектов-участников.


<a name="inversefunctional">

##### 4.1.2.3 Обратный идентификатор
###### Описание 
«Обратный идентификатор» – знак Субъекта или Идентифицированной Группы,
всегда гарантированно относящийся к данному Субъекту или Идентифицированной Группе.

###### Пояснение
Записи об учебном процессе бесполезны, если они не могут быть соотнесены с конкретными
лицами и/или группами. В Утверждениях xAPI это достигается множеством
Обратных идентификаторов по мотивам широко принятых принципов FOAF
(см. <a href="http://xmlns.com/foaf/spec/#term_Agent"> Friend Of A Friend</a>, Друг Друга).

###### Детали

В таблице ниже перечислены все свойства, могущие быть Обратным идентификатором.

<table border ="1">
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th></tr>
	<tr><td><a href="http://xmlns.com/foaf/spec/#term_mbox">mbox</a></td><td>mailto IRI</td><td>Требуемый формат: "mailto:адрес email". <br>
	В данном свойстве, а так же mbox_sha1sum должны использоваться только те адреса, доступ
	к которым имел и будет иметь данный Субъект, но не кто-то ещё.</td></tr>
	<tr><td><a href="http://xmlns.com/foaf/spec/#term_mbox_sha1sum">mbox_sha1sum</a></td><td>Строка</td><td>
	SHA1 хеш от mailto IRI (например, свойства mbox). LRS МОЖЕТ включать Субъектов с одинаковым хешем, когда запрос основан на mbox.</td></tr>
	<tr><td>openid</td><td>URI</td><td>OpenID, уникально идентифицирующее Субъекта.</td></tr>
	<tr><td>account</td><td><a href="#agentaccount">Объект</a></td><td>Аккаунт – пользоваельская учётная запись в существующей системе, например, в LMS или корпоративной сети.</td></tr>
</table>


<a name="agentaccount"/>

##### 4.1.2.4 Аккаунт

###### Описание 

Пользоваельская учётная запись в существующей системе, закрытой (например, LMS или корпоративная сеть) или открытой
(например, социальная сеть).

###### Детали

* Если система, создающая учётные записи, использует OpenID, Провайдер задач
ДОЛЖЕН использовать свойство openid вместо объекта account.
* Если Провайдер задач отвечает за сохранность персональных данных Субъекта или Группы,
он ДОЛЖЕН использовать непрозрачные имена аккаунтов (например,
номера) для соотнесения Утверждений с учащимся при поддержании анонимности.

В таблице ниже перечислены все свойства Аккаунта.

<table border ="1">
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr><td>homePage</td><td>IRL</td><td>Каноническая домашняя страница системного аккаунта имеет место. Основано на accountServiceHomePage из FOAF.</td>
	<td>Обязательно</td></tr>
	<tr><td>name</td><td>Строка</td><td>Уникальное имя или ID для аутентификации. Основано на accountName из FOAF.
	</td><td>Обязательно</td></tr>
</table>


###### Пример

Пример субъекта, идентифицированного непрозрачным аккаунтом:

```
{
	"objectType": "Agent",
	"account": {
		"homePage": "http://www.example.com",
		"name": "1625378"
	}
}
``` 

<a name="verb"/>

#### 4.1.3 Действие

###### Описание
Определяет действие между Исполнителем и Задачей. 

###### Пояснение

Действие в Утверждении xAPI описывает, что было проделано во время учебного процесса. Стандарт
xAPI не определяет каких-либо специфических Действий. (Единственное исключение – зарезервированное Действие
<a href="#voided">'http://adlnet.gov/expapi/verbs/voided'</a>, «аннулировано»). Вместо этого он определяет создание Действий,
чтобы профессиональные сообщества могли создавать необходимые Действия для своих участников и делать их доступными всем.
Предопределённый список Действий является ограниченным по определению и может оказаться недостаточным для
полноценного охвата всевозможных учебных процессов в будущем. 

###### Детали

Действия представлены в Утверждении в виде объектов, включающих IRI и множество отображаемых названий, 
соответствующих языкам или диалектам, что обеспечивает удобочитаемость значения. 
В таблице ниже перечислены все свойства Действия.

<table>
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr>
		<td>id</td>
		<td>IRI</td>
		<td>Соответствует определению Действия. Определение каждого Действия 
			соответствует смыслу Действия, а не слова(???). IRI должно 
			быть удобочитаемым и содержать смысл Действия.</td>
		<td>Обязательно</td>
	</tr>
	<tr>
		<td>display</td>
		<td><a href="#misclangmap">Локализованное поле</a></td>
		<td>Удобочитаемое представление
			Действия на одном или более языках. Это никак не влияет на
			значение Утверждений, но служит для удобочитаемого
			отображения значений, определённых выбранным Действием.</td>
		<td>Рекомендуется</td>
	</tr>
</table>

###### Требования

* Свойство display ОБЯЗАТЕЛЬНО должно использоваться для отображения значения, предопределённого в IRI.
* Система, считывающая данные из Утверждения, ОБЯЗАНА воспринимать значение Действия по IRI.
* Свойство display НЕЛЬЗЯ использовать для изменения смысла Действия.
* Система, считывающая данные из Утверждения, НЕ МОЖЕТ использовать свойство display в какой-либо логике.
* Система, считывающая данные из Утверждения, НЕ МОЖЕТ использовать свойство display для чего-либо, кроме отображения пользователю.
Примером нарушения данного требования может быть группировка. 
* Свойство display ДОЛЖНО быть использовано во всех Утверждениях.
* IRI, испольльзуемое для id, ДОЛЖНО быть удобочитаемым и включать смысл Действия.

###### Пример

```
{
	"verb" : { 
		"id":"http://www.adlnet.gov/XAPIprofile/ran(travelled_a_distance)", 
		"display":{
			"en-US":"ran",
			"es" : "corrió" 
			"ru" : "пробежал" 
		} 
	}
}
``` 

Пример данного Действия приведён только для наглядности. Это не означает, что
Действие с данным смыслом определено под данным id. Это относится ко всем примерам действий в данной
спецификации, за исключением зарезервированного <a href="#voided">'http://adlnet.gov/expapi/verbs/voided'</a>. 

##### 4.1.3.1 Использование в языке и семантика Действий

###### Детали
_Семантика_

IRI, используемое для id Действия, идентифицирует определённую семантику слова, а не само слово. 

Например, слово «обжечь» может иметь различный смысл в зависимости от контекста: «обжечь руку» или
«обжечь горшок». В таком случае IRI ОБЯЗАН идентифицировать одно из этих специфических значений,
а не просто слово «обжечь». 

Свойство display допускает использование различных времён глаголов. Для IRI предполагается использование только
прошедшего времени, а для спряжения (при использовании одного и того же Действия с разными Задачами) display
изменяется, если это требуется по смыслу.

_Язык_

В Experience API Действием является IRI, а обозначение конкретного смысла не завязано на определённый язык.

Например, конкретное IRI, такое как http://example.org/firearms#fire может обозначать «стрелять из ружья» (firing a gun), 
а IRI http://example.com/فعل/خواندن может обозначать «читать книгу». 

##### 4.1.3.2 Использование в профессиональных сообществах

###### Описание

Профессиональным сообществам может периодически требоваться создание собственных Действий для удовлетворения потребностей своих участников.

Поэтому предполагается, что профессиональные сообщества xAPI будут создавать профили, списки и хранилища,
ориентированные на наборы Действий. ADL создаёт соответствующий документ Действий для xAPI, используемый сообществом ADL.

В дополнение к правилам ниже, имеется набор рекомендуемых IRI для основных Действий. Бывают случаи, когда
Провайдеры задач хотят использовать разные Действия с одним и тем же смыслом.

###### Требования к сообществам

* Любой, кто создаёт новое Действие, ОБЯЗАН владеть IRI, или иметь разрешение от владельца для использования в качестве Действия xAPI;
* Любой, кто создаёт новое Действие, ДОЛЖЕН сделать удобочитаемое описание этого Действия и его использования,
доступное по его IRI.

###### Требования к Провайдерам задач

* Провайдеры задач ДОЛЖНЫ использовать подходящие существующие Действия, насколько возможно.
* Провайдеры задач МОГУТ создавать и использовать Действия, если нет подходящих существующих.



<a name="object"/>

####4.1.4 Объект

###### Описание

Объектом Утверждения может быть Задача, Субъект/Группа, Подутверждение или ссылка на другое Утверждение. Объект – элемент «это» в
утверждении «Я сделал это».

Примеры:

* Объект-Задача: «Джефф написал эссе по экскурсии».

* Объект-Субъект: «Нелли взяла интервью у Джеффа».

* Объект-Утверждение (различная реализация для подутверждения и ссылки, но схожий смысл для человека): 
«Нелли прокомментировала „Джефф написал эссе по экскурсии“».

###### Детали

Информационные объекты, используемые в качестве Объекта в Утверждении, ДОЛЖНЫ иметь поле "objectType".
По умолчанию objectType имеет значение "Activity" (Задача). Другими возможными значениями являются:
<a href="#agentasobj">Agent</a>, <a href="#agentasobj">Group</a>, <a href="#substmt">SubStatement</a> или [StatementRef](#stmtref)</a>.
Другие свойства Объекта меняются в соответствии с objectType.

<a name="activity"/>

##### 4.1.4.1 Когда Объектом является Здача

###### Детали

В качестве Объекта Утверждения может использоваться Задача. В таблице ниже перечислены 
свойства информационного объекта в этом случае.

<table>
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr>
		<td>objectType</td>
		<td>Строка</td>
		<td>"Activity", если указано</td>
		<td>Опционально</td>
	</tr>
	<tr>
		<td><a href="#acturi">id</a></td><td>IRI</td>
		<td>Идентификатор данной конкретной задачи</td>
		<td>Обязательно</td>
	</tr>
	<tr>
		<td><a href="#actdef">definition</a></td>
		<td>Объект</td>
		<td>Определение – дополнительные метаданные, <a href="#actdef">см. ниже</a></td>
		<td>Опционально</td>
	</tr>
</table>

Если один и тот же id окажется использованным для двух разных Задач, это поставит под вопрос корректность
построенных на них Утверждений. Это означает, что LRS никогда не должны рассматривать две Задачи 
с одинаковым id, как разные, даже если это могло предполагаться. А именно, 
в случае конфликта с другой системой поведение не определено. 


###### <a name="actdef" />Определение Задачи
В таблице ниже перечислены все свойства определения Задачи:

<table>
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr>
		<td>name</td>
		<td><a href="#misclangmap">Локализованное поле</a></td>
		<td>Удобочитаемое назание Задачи</td>
		<td>Рекомендуется</td>
	</tr>
	<tr>
		<td>description</td>
		<td><a href="#misclangmap">Локализованное поле</a></td>
		<td>описание Задачи</td>
		<td>Рекомендуется</td>
	</tr>
	<tr>
		<a name="acttype"/>
		<td>type</td>
		<td>IRI</td>
		<td>тип Задачи.</td>
		<td>Рекомендуется</td>
	</tr>
	<tr>
		<td>moreInfo</td>
		<td>IRL</td>
		<td>ДОЛЖЕН приводиться к документу, который содержит информацию о Задаче,
		в том числе МОЖЕТ включать путь к её решению.
		</td>
		<td>Опционально</td>
	</tr>
	<tr>
		<td colspan="4">Свойства взаимодействия, см.: <a href="#interactionacts">Интерактивные задачи</a></td>
	</tr>
	<tr>
		<td>extensions</td>
		<td>Объект</td>
		<td>Другие свойства по требованию (см.: <a href="#miscext">Расширения</a>)</td>
		<td>Опционально</td>
	</tr>
</table>

__Примечание:__ фрагменты IRI (так же называемые относительными IRL) не являются IRI и неприменимы. Как и в случае с Действиями,
Провайдерам задач рекомендуется по мере возможностей использовать утвердившиеся, широко распространённые типы Задач.


###### <a name="acturi" />Требования к id Задачи

* Id Задачи ОБЯЗАН быть уникальным.
* Id ОБЯЗАН всегда указывать на одну и ту же задачу.
* Для id Задачи ДОЛЖЕН использоваться домен, принадлежащий или предоставленный автору для этих целей.
* Id Задачи ДОЛЖЕН строиться по схеме, обеспечивающей уникальность id всех задач в пределах одного домена.
* Id Задачи МОЖЕТ указывать на  метаданные или IRL для задачи.

###### Требования к LRS

* LRS ОБЯЗАН игнорировать использование разными авторами задач с одинаковыми id.
* LRS НЕ МОЖЕТ воспринимать ссылки на один id как ссылки на разные Задачи.
* При получении Утверждения, содержащего Задачу со старым id и новым (отличным от хранимого) определением, LRS
ДОЛЖЕН решить, имеет ли Провайдер задач право изменить задачу. Если имеет – LRS
ДОЛЖЕН изменить хранимое определение в соответствии с полученным.
* LRS МОЖЕТ вносить небольшие поправки в определение Задачи. Например, можно исправить
орфографические ошибки, но недопустимо перемаркировывать правильные ответы.


###### Требования к Провайдеру задач

* Провайдер задач ОБЯЗАН гарантировать уникальность id Задач.
* Провайдер задач ОБЯЗАН на одной и той же Задаче генерировать только совместимые между собой Утверждения и состояния.
* Провайдер задач ОБЯЗАН НЕ допускать нарушений совместимости, связанных с обновлением Задач
(например, при редактировании или смене платформы).

###### Требования к метаданным

* Если id Задачи (IRI) представляет собой IRL, то LRS ДОЛЖЕН попытаться стелать GET-запрос по этому IRL, включив
HTTP-заголовок ```Accept: application/json, */*```. Это должно быть сделано как можно раньше после
введения новой задачи в LRS.

* При загрузке из IRL Задачи её корректного определения в формате JSON,
 LRS ДОЛЖЕН зарегистрировать у себя это определение для данной задачи,
даже если оно не содержит сохраняемых имён или определений (???).

* Задача с IRL-идентификатором МОЖЕТ хранить метаданные, используя <a href="#actdef">
Activity Definition</a> в формате JSON, используемый в Утверждениях, с заголовком Content-Type "application/json"

* При загрузке любого документа, из которого LRS может извлечь определение Задачи
по id-IRL, LRS МОЖЕТ использовать это определение
для внутреннего представления Задачи.

<a name="interactionacts"/>

##### Интерактивные Задачи  

###### Пояснение

Традиционное электронное обучение включает элементы для взаимодействия и исследования. 
Чтобы сделать такие элементы частью Experience API,
данная спецификация включает встроенные определения взаимодействий,
взятые из модели данных SCORM 2004, 4-е издание. Цель этих определений: предоставление
простого и удобного инструмента для записи данных о взаимодействии. Эти определения
просты, соответственно, их возможности ограничены. Предполагается, что профессиональные
сообщества, требующие более сложных данных о взаимодействии, будут использовать
расширения типа и определения Задачи.

###### Детали

Свойства интерактивной задачи перечислены в таблице ниже.

<table>
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr>
		<td>interactionType</td>
		<td>Строка</td>
		<td>Тип взаимодействия – аналогично "cmi.interactions.n.type", определено в
			SCORM 2004 Run-Time Environment, 4-е издание.</td>
		<td>Опционально</td>
	</tr>
	<tr>
		<td>correctResponsesPattern</td>
		<td>Массив строк</td>
		<td>Шаблон правильных ответов – соответствует 
			"cmi.interactions.n.correct_responses.n.pattern" определено в
			SCORM 2004 Run-Time Environment, 4-е издание, где последнее
			<em>n</em> – индекс массива.</td>
		<td>Опционально</td>
	</tr>
	<tr>
		<td>choices | scale | source | target | steps</td>
		<td>Массив интерактивных компонентов</td>
		<td>В зависимости от типа взаимодействия (<a href="#interactionType">см. ниже</a>).</td>
		<td>Опционально</td>
	</tr>
</table>  

###### Требования

* Интерактивная задача ОБЯЗАНА иметь корректный тип взаимодействия.
* Интерактивная задача ДОЛЖНА иметь тип http://adlnet.gov/expapi/activities/cmi.interaction".
* LRS, получая интерактивную Задачу с корректным типом взаимодействия, МОЖЕТ проверить корректность остальных свойств в соответствии с таблицей 
ниже и МОЖЕТ вернуть HTTP 400 "Bad Request", если остальные свойства некорректны для интерактивной Задачи.


##### Компоненты взаимодействия  

###### Детали

Компоненты взаимодействия определены следующим образом:  

<table>
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr>
		<td>id</td>
		<td>Строка</td>
		<td>Значение, аналогичное используемому в "cmi.interactions.n.id", 
            определено в SCORM 2004 Run-Time Environment, 4-е издание</td> 
		<td>Обязательно</td>
	<tr>
		<td>description</td>
		<td><a href="#misclangmap">Локализованное поле</a></td>
		<td>Описание компонента взаимодействия
			(например, текст к предлагаемому выбору в вопросе с вариантами ответа)</td>
		<td>Опционально</td>
	</tr>
</table>

<a name="interactionType"/>

Данная таблица отображает поддерживаемые типы интерактивных компонентов CMI (Computer Managed Instruction,
компьютеризированное обучение) для интерактивных Задач определённых типов.

<table>
	<tr><th>Тип взаимодействия (interactionType)</th><th>Поддерживаемые компоненты</th><tr>
	<tr><td>choice, sequencing</td><td>выбор</td></tr>
	<tr><td>likert</td><td>шкала</td></tr>
	<tr><td>matching</td><td>источник-назначение</td></tr>
	<tr><td>performance</td><td>этапы</td></tr>
	<tr><td>true-false, fill-in, numeric, прочие</td><td>[компоненты не определены]</td></tr>
</table>

###### Требования

* В массиве интерактивных компонентов все id ОБЯЗАНЫ быть чётко определены.
* Id интерактивных компонентов НЕ ДОЛЖНЫ иметь пробелов.

###### Пример

В [Приложении E](#AppendixE) приведены определения интерактивных Задач для каждого типа cmi.interaction.

<a name="agentasobj"/>

##### 4.1.4.2 Когда Объектом является Субъект или Группа

###### Требования

* Утверждения, использующие в качестве Объекта Субъект или Группу, ОБЯЗАНЫ включать поле 'objectType'.

Детальное описание Субъекта смотрите в разделе [4.1.2 Исполнитель](#actor).  

<a name="stmtasobj"/>

##### 4.1.4.3 Когда Объектом является Утверждение

###### Пояснение

Есть два способа использовать Утверждение в качестве Объекта. Во-первых, Объектом можно сделать уже
существующее Утверждение, используя Ссылку на утверждение. Типичный случай использования
Ссылки на утверждение: оценка или комментирование этапа учебного процесса, состоявшегося ранее.
При аннулировании Утверждений так же используются ссылки.
Во-вторых, Объектом может быть объявление нового Утверждения, Подутверждение. Типичное применение
Подутверждений: любые события, имеющие собственные утверждения, что может ввести в заблуждение.
Каждый тип определён ниже.

<a name="stmtref"/>

##### Ссылка на Утверждение

###### Описание
Ссылка на Утверждение – указатель на другое, ранее объявленное Утверждение.

###### Требования

* Ссылка на Утверждение ОБЯЗАНА указывать в поле "objectType" значение "StatementRef".
* Ссылка на Утверждение ОБЯЗАНА указывать в поле "id" значение UUID Утверждения.

Все свойства Ссылки на Утверждение перечислены в таблице ниже:

<table border ="1">
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr><td>objectType</td><td>Строка</td><td>В данном случае, ОБЯЗАНО иметь значение "StatementRef".</td><td>Обязательно</td></tr>
	<tr><td>id</td><td>UUID</td><td>UUID Утверждения. 
	</td><td>Обязательно</td></tr>
</table>

###### Пример

Предполагая, что некоторое Утверждение уже сохранено с
id 8f87ccde-bb56-4c2e-ab83-44982ef22df0, следующий пример показывает, как
можно прокомментировать старое Утверждение, используя новое:  

```
{
	"actor" : { 
		"objectType": "Agent", 
		"mbox":"mailto:test@example.com" 
	},
	"verb" : { 
		"id":"http://example.com/commented", 
		"display": {
			"en-US":"commented"
			"ru-RU":"прокомментировал"
		} 
	},
	"object" : {
		"objectType":"StatementRef",
		"id":"8f87ccde-bb56-4c2e-ab83-44982ef22df0"
	},
	"result" : { 
		"response" : "Отличная работа!" 
	}
}
``` 

<a name="substmt"/>

##### Подутверждения

###### Описание
Подутверждение – новое Утверждение, являющееся частью родительского.

###### Требования

* Подутверждение ОБЯЗАНО в поле "objectType" указывать значение "SubStatement".
* Подутверждение ОБЯЗАНО, помимо требованиям к Подутверждению, выполнять все требования Утверждения.
* Подутверждение НЕ МОЖЕТ иметь свойств "id", "stored", "version" и "authority".
* Подутверждение НЕ МОЖЕТ иметь своих вложенных Подутверждений.

###### Пример

Интересным вариантом использования Подутверждений является составление Утверждений о намерениях.
Например, Утверждение с Подутверждением может иметь форму 
```"<Я> <планировал> (<Я> <сделал> <это>)"```  чтобы показать, что мы собирались совершить 
некоторое действие. В данном примере сформулировано, что 
"Я планировал посетить 'Некоторый удивительный сайт'". 
 


```
{
	"actor": {
		"objectType": "Agent", 
		"mbox":"mailto:test@example.com" 
	},
	"verb" : { 
		"id":"http://example.com/planned", 
		"display":{
			"en-US":"planned"
			"ru-RU":"планировал"
		} 
	},
	"object": {
		"objectType": "SubStatement",
		"actor" : {
			"objectType": "Agent", 
			"mbox":"mailto:test@example.com" 
		},
		"verb" : { 
			"id":"http://example.com/visited", 
			"display":{
				"en-US":"will visit"
				"ru-RU":"посещу"
			} 
		},
		"object": {
			"id":"http://example.com/website",
			"definition": { 
				"name" : {
					"en-US":"Some Awesome Website"
					"ru-RU":"Некоторый удивительный сайт"
				}
			}
		}
	}
}
```

<a name="result"/>

#### 4.1.5 Результат

###### Описание
Опциональное поле, описывающее количественный исход содержащего его Утверждения.

###### Детали
Свойства Результата перечислены в таблице ниже:

<table border="1">
<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<td>score</td>
	<td>Объект</td>
	<td>Оценка Субъекту по успеху или качеству выполненной работы. 
	<a href ="#Score">См.: Оценка</a></td>
	<td>Опционально</td>
</tr>
<tr>
	<td>success</td>
	<td>Логический</td>
	<td>Была ли успешной попытка решить Задачу.</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>completion</td>
	<td>Логический</td>
	<td>Была ли Задача завершена.</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>response</td>
	<td>Строка</td>
	<td>Ответ на Задачу, форматированный по её правилам.</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>duration</td>
	<td>В формате <a href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601</a>
	с точностью 0.01 секунды</td>
	<td>Продолжительность – период времени, в течение которого происходило событие в Утверждении.</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>extensions</td>
	<td>Объект</td>
	<td>Набор других свойств по требованию.
	<a href="#miscext">См.: Расширения</a></td>
	<td>Опционально</td>
</table> 

<a name="Score"/>

##### 4.1.5.1 Оценка

###### Описание
Опциональное поле, содержащее заслуженные Субъектом баллы за решение Задачи, выставленные по определённой шкале.

###### Детали

Объект оценки определён в таблице ниже. 

<table border ="1">
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr>
		<td>scaled</td>
		<td>Десятичное число от -1 до 1 включительно</td>
		<td>Градуированная оценка: соотв. 'cmi.score.scaled' из SCORM 2004 4-е издание</td>
		<td>Рекомендуется</td>
	</tr>
	<tr>
		<td>raw</td>
		<td>Десятичное число от min до max (если они указаны, либо без ограничений) включительно</td>
		<td>Исходная оценка: соотв. 'cmi.score.raw'</td>
		<td>Опционально</td>
	</tr>
	<tr>
		<td>min</td>
		<td>Десятичное число меньше max (если указано)</td>
		<td>Соотв. 'cmi.score.min'</td>
		<td>Опционально</td>
	</tr>
	<tr>
		<td>max</td>
		<td>Десятичное число больше min (если указано)</td>
		<td>Соотв. 'cmi.score.max'</td>
		<td>Опционально</td>
	</tr>
</table>

###### Требования

* Оценка ДОЛЖНА иметь поле 'scaled', если проводится балльно-рейтинговый учёт.
* Объект Оценка НЕ ДОЛЖЕН использоваться при аттестации или подсчёте прохдных баллов.
Рекомендуется использовать расширения пользовательского профиля.


<a name="context"/>

#### 4.1.6 Контекст

###### Описание 
Опцилнальное поле, позволяющее добавить в Утверждение контекстную информацию. Все его свойства так же опциональны.

###### Пояснение 
Поле "context" предоставляет возможность добавлять контекстную информацию в Утверждение. Оно может содержать, например,
преподавателя (если обучение производится совместно) или текущее положение в более общем учебном процессе.

###### Детали

Свойства Контекста перечислены в таблице ниже.

<table border="1">
<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
<tr>
	<td>registration</td>
	<td>UUID</td>
	<td>Регистрация, с которой связано данное Утверждение.</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>instructor</td>
	<td>Субъект (или Группа)</td>
	<td>Преподаватель, к которому относится данное Утверждение (если не включён, как Исполнитель (???)).</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>team</td>
	<td>Группа</td>
	<td>Команда, к которой относится данное Утверждение (если не включена, как Исполнитель).</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>contextActivities</td>
	<td>Объект <a href="#contextActivities">contextActivities</a></td>
	<td>Таблица типов контекста учебной деятельности и задач, находящихся в этом контексте с данным Утверждением.
	Допустимые типы контекстов: "parent" (родительская задача), "grouping" (группирующая), "category" (категория) и "other" (прочие).</td> 
	<td>Опционально</td>
</tr>
<tr>
	<td>revision</td>
	<td>Строка</td>
	<td>Ревизия (исправления) учебной деятельности и задачи, связанной с данным Утверждением. Формат свободный.
	<td>Опционально</td>
</tr>
<tr>
	<td>platform</td>
	<td>String</td>
	<td>Платформа, использованная в процессе решения задачи.</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>language</td>
	<td>Строка (в формате <a href="http://tools.ietf.org/html/rfc5646">RFC 5646</a>)</td>
	<td>Код языка, на котором (преимущественно) была предоставлена учебная информация, если применимо и известно.
	</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>statement</td>
	<td><a href="#stmtref">Ссылка на Утверждение</a></td>
	<td>Другое Утверждение, которое следует воспринимать, как контекст данного.</td>
	<td>Опционально</td>
</tr>
<tr>
	<td>extensions</td>
	<td>Объект</td>
	<td>Набор других контекстных свойств Утверждения, специфических для системы. Например,
	в авиасимуляторе: высота, скорость полёта, скорость ветра, ориентация, координаты
	(<a href="#miscext">см. Расширения</a>)</td>
	<td>Опционально</td>
</tr>

</table>

###### Требования

* Свойство revision ОБЯЗАНО использоваться только в том случае, если Объектом Утверждения является Задача.
* Свойство platform ОБЯЗАНО использоваться только в том случае,  если Объектом Утверждения является Задача.
* Свойство language НЕ МОЖЕТ использоваться, если неуместно или неизвестно.
* Свойство revision ДОЛЖНО использоваться для исправления незначиельных ошибок (например, орфографических).
* Свойство revision НЕ ДОЛЖНО использоваться при серьёзных изменениях в Задаче (например, учебных целях или педагогике).
Используйте новую Задачу с новым id.

__Примечание:__ Ревизия никак не обрабатывается в системе xAPI. Она только сохраняется
для вывода в системе отчётов.

<a name="Registration"/>

##### 4.1.6.1 Регистрация

###### Описание
Учащийся, решающий конкретную задачу.

###### Детали
LRS может быть частью LMS, которые обычно поддерживают концепцию регистрации.
Experience API воспринимает регистрацию более широко. Например, под регистрацией может пониматься
попытка или сессия. Она может охватывать одну или несколько Задач. Нет необходимости, чтобы
регистрация заканчивалась с окончанием решения Задачи, либо относилась только к одному Субъекту.

<a name="contextActivities"/>

##### 4.1.6.2 Контекстные задачи

###### Описание
Таблица типов контекста учебной деятельности и задач, находящихся в этом контексте с данным Утверждением.

###### Пояснение
Многие Утверждения затрагивают не только основную Задачу, находящуюся в фокусе,
но и имеют отношение ко ногим другим, находящимся в контексте. Объект «Контекстные задачи»
позволяет отобразить связанные Задачи структурированно.

###### Детали
Существует четыре типа контекста. Любой из них МОЖЕТ быть использован, в том числе все или ни одного.

1. __Parent (родительская)__: Задача, имеющая прямую связь с Задачей,
являющейся Объектом данного Утверждения. Практически всегда имеется только 
одна родительская задача (или ни одной), но не несколько.
Например: утверждение о вопросе в тесте может иметь тест
в качестве родительской задачи.
 
2. __Grouping (группирующая)__: Задача, имеющая непрямую связь с Задачей,
являющейся Объектом данного Утверждения.
Например, курс является частью учебной программы. Курс
содержит несколько лекций. Курс является родителем лекции,
а учебная программа – группой.

3. __Category (категория)__: Задачи для категоризации Утверждений.
«Тэги» могли бы быть синонимом. Категория ДОЛЖНА использоваться для отображения
«профиля» поведения xAPI, так же как и другая категоризация.
Например: Анна сдавала экзамен по биологии, и Утверждение
отслеживается с помощью профиля CMI-5. Тогда основной Задачей (Объектом) Утверждения
будет экзамен, а категорией –  CMI-5 профиль.

4. __Other__ (прочие): Контекстные задачи, не попадающие под предыдущие типы.
Например: Анна читает учебник, чтобы подготовиться к экзамену. Основной Задачей
Утверждения будет учебник, а экзамен – в контексте «прочие».

Одиночные объекты класса Задача допустимы, чтобы Утверждения версии 0.95 были совместимы с версией 1.0.0.

__Примечание:__ Эти поля не предназначены для перечисления абсолютно всех связей, имеющихся у Утверждения.
Вместо этого следует выделить наиболее важные для данного Утверждения
(обычно определяются по природе Объекта).
Например, для Утверждения о тесте уместно включить курс, как родительскую задачу, но не включать
все возможные учебные программы, в которых он может быть использован.

###### Требования
* Каждый ключ в объекте contextActivities ОБЯЗН иметь значение "parent", "grouping", "category" или "other".
* Каждое значение в объекте contextActivities ОБЯЗАНО быть объектом или массивом объектов класса Задача.
* LRS ОБЯЗАН возвращать значения объекта contextActivities в виде массивов, даже если они были получены
в виде одиночных объектов.
* LRS ОБЯЗАН возвращать одиночные объекты класса Задача в виде массива, содержащего этот единственный объект.
* Клиент ДОЛЖЕН представлять значения объекта contextActivities в виде массивов, а не одиночных объектов.

###### Пример

Рассмотрим следующую иерархическую структуру: «Вопросы с 1 по 6»
являются частью «Теста 1», который является частью курса «Алгебра 1».
Шесть вопросов регистрируются, как часть «Теста 1» в
качестве их родителя. Так же они группируются с другими Утверждениями
по «Алгебре 1» для полного отображения иерархии. Это особенно полезно,
если Объектом Утверждения является Субъект, а не Задача. Например,
«Андрей был наставником Бена» в контексте курса «Алгебра 1».

```
{
	"parent" : [{
	"id" : "http://example.adlnet.gov/xapi/example/test 1"
	}],
	"grouping" : [{
	"id" : "http://example.adlnet.gov/xapi/example/Algebra1"
	}]
}
```

<a name="timestamp"/>

#### 4.1.7 Timestamp

###### Описание
Дата и время совершения действий.

###### Детали
Поле timestamp в Утверждении может отличаться от
[Stored](#stored) (момент, когда оно было сохранено в системе). А именно, может быть задержка между решением задачи учащимся и
сохранением Утверждения в LRS.

При продолжительной работе над задачей timestamp может содержать любую точку от начала до конца
временного отрезка. Предполагается, что профессиональные сообщества определят наиболее подходящий под сохранение
timestamp для разных событий. Например, для записи об обеде в ресторане можно сохранить начало, 
а для прохождения аттестации – окончание.
Данные примеры даны для иллюстрации и не яляются стандартом.

###### Требования
* Timestamp ОБЯЗАН быть в формате [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations).
* Timestamp ДОЛЖЕН включать часовой пояс.
* Timestamp ДОЛЖЕН быть в текущем или прошедшем времени, когда он не в Подутверждении.
* Timestamp МОЖЕТ отображать любую точку временного отрезка работы над задачей.
* Timestamp МОЖЕТ быть округлён с точностью не менее 3 знаков после запятой для секунд (точность в миллисекундах ОБЯЗАНА сохраниться). 
* Timestamp МОЖЕТ быть в будущем для обозначения крайнего срока предполагаемого события, записываемого в Подутверждении.


<a name="stored"/> 

#### 4.1.8 Stored

###### Описание
Время, когда Утверждение было сохранено в LRS.

Свойство stored содержит системное время, когда Утверждение было сохранено. Используйте [Timestamp](#timestamp) 
для сохранения времени, когда происходило описываемое в Утверждении событие.

###### Требования

* Свойство stored ОБЯЗАНО быть в формате [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations).
* Свойство stored ДОЛЖНО включать часовой пояс.
* Свойство stored ДОЛЖНО быть в текущем или прошедшем времени.
* Свойство stored МОЖЕТ быть округлено с точностью не менее 3 знаков после запятой для секунд (точность в миллисекундах ОБЯЗАНА сохраниться). 

<a name="authority"/> 

#### 4.1.9 Авторитет

###### Описание
Авторитет показывает, кто (или что) подтвердил, что Утверждение является верным.

###### Детали
Поле authority содерит аутентифицированного пользователя, систему или приложение.

###### Требование
* Авторитет ОБЯЗАН быть Субъектом, за исключением применения 3-шагового OAuth, в этом случае он ОБЯЗЯН быть Группой с двумя Субъектами.
Два Субъекта вместе представляют приложение и пользователя.
* LRS ОБЯЗАН включать пользователя в виде Субъекта в поле authority если пользователь подключается
напрямую (используя базовую аутентификацию HTTP) или является частью Группы.
* LRS ОБЯЗАН гарантировать наличие авторитета у каждого сохранённого Утверждения.
* LRS ДОЛЖЕН перезаписывать авторитет всех сохраняемых Утверждений, основываясь на полномочиях,
с которыми каждое Утверждение было отправлено.
* LRS МОЖЕТ оставить отправленное значение авторитета, но ДОЛЖЕН делать так только
при полном доверии к отправителю и с большой осторожностью.
* LRS МОЖЕТ идентифицировать пользователя любым подходящим способом, если пользователь
подключается непосредственно (используя базовую аутентификацию HTTP) или 3-шаговый OAuth. 


##### Полномочия OAuth в качестве авторитета

###### Описание
Это процесс использования OAuth. Поддерживаются и 2-шаговая, и and 3-шаговая версии OAuth.

###### Детали
Этот процесс предполагает, что Утверждение сохранено с помощью утверждённого подключения OAuth, а LRS
создаёт или изменяет в нём поле authority.

При 3-шаговом процессе OAuth аутентифицируются и пользователь (человек, использующий программу с
OAuth-доступом), и consumer («потребитель» – программа, получающая доступ по протоколу OAuth).
Например, запросы от авторизованного плагина Twitter нa аккаунт Facebook должен включать
не только полномочия пользователя Twitter или Twitter как клиентского приложения, 
а их уникальную комбинацию.

###### Требования
* Поле authority ОБЯЗАНО содержать Субъект, представляющий OAuth consumer, самого по себе или
в группе при 3-шаговом OAuth.
* Субъект, представляющий OAuth consumer, ОБЯЗАН быть идентифицирован аккаунтом.
* Субъект, представляющий OAuth consumer, ОБЯЗАН использовать consumer-ключ в значении поля name аккаунта.
* Если OAuth consumer является зарегистрированным приложением, то token request endpoint
 (адрес выдачи маркеров) ОБЯЗАН использоваться в значении поля homePage аккаунта.
* Если OAuth consumer не является зарегистрированным приложением, то remporary credentials endpoint
(адрес выдачи временных полномочий) ОБЯЗАН использоваться в значении поля homePage аккаунта.
* LRS ОБЯЗАН НЕ доверять отображённой в поле authority незарегистрированной программе, если она имеет тот же
name (consumer-ключ), что и субъект Утверждения(???). (Несколько незарегистрированных приложений могли исползовать общий consumer-ключ.
В итоге нет возможности различать полученные временные полномочия и имена аккаунтов.) 
* Каждый незарегистрированный consumer ДОЛЖЕН использовать уникальный consumer-ключ.

###### Пример

Пара OAuth consumer и пользователя.

```
"authority": {
	"objectType" : "Group",
	"member": [
		{
			"account": {
				"homePage":"http://example.com/xAPI/OAuth/Token",
				"name":"oauth_consumer_x75db"
			}
		},
		{ 
			"mbox":"mailto:bob@example.com" 
		}
	]
}
```

<a name="version"/> 

#### 4.1.10 Версия
###### Описание
Информация о версии в Утверждении помогает системам, получающим данные из LRS, выбрать правильный алгоритм.
Начиная с версий 1.0.x модель данных Утверждений непротиворечива, чтобы поддерживать возможность обмена
данными между LRS им дана некоторая гибкость на поддержиавемых версиях Утверждений.

###### Требования
* Версия ОБЯЗАНА быть отформатирована, как в HTTP-заголовке, см: [API версионирование](#apiversioning)

###### Требования к LRS
* LRS ОБЯЗАН принимать все Утверждения, версия которых начинается на "1.0.", если они корректны во всём остальном.
* LRS ОБЯЗАН отклонять все Утверждения, версия которых указана и не начинается на "1.0.".
* Утверждения, возвращённые LRS, ОБЯЗАНЫ содержать версию, с которой были приняты. Если
версия указана не была, задаваемое значение ОБЯЗАНО быть 1.0.0.


###### Требования к клиенту
* Если клиент указывает версию Утверждения, он ОБЯЗАН указывать значение 1.0.0
* Клиент НЕ ДОЛЖЕН указывать версию Утверждения.


<a name="attachments"/>
#### 4.1.11 Вложения

###### Description
Цифровой артефакт, свидетельствующий о полученном опыте обучения.

###### Пояснение
В некоторых случаях вложение может логически быть важной частью записи об обучении. 
Подумайте об эссе, видео и т.п. Другим примером вложения может быть серификат (изображение),
вручённый в качестве награды за учебную работу. Полезно иметь возможность сохранять эти вложения
и получать их обратно с LRS. В случае необходимости прикрепления вложений в Подутверждения
мы настоятельно рекомендуем прикрепить их в основное Утверждение и включить соответствующую
нагрузку, как обычно, в Утверждение.

###### Детали
Свойства вложения перечислены в таблице ниже.
<table>
	<tr><th>Свойство</th><th>Тип</th><th>Описание</th><th>Обязательность</th></tr>
	<tr>
		<a name="attachmentUsage" />

		<td>usageType</td>
		<td>IRI</td>
		<td>Идентифицирует использование данного вложения. Например, типичным вариантом использования
		вложений является хранение «сертификата о завершении». IRI, соотетствующий этому варианту
		использовния, должен быть указан во вложениях, используемых соответствующим образом.</td>
		<td>Обязательно</td>
	</tr>
	<tr>
		<td>display</td>
		<td><a href="#misclangmap">Мультиязычное поле</a></td>
		<td>Отображаемое название (заголовок) вложения.</td>
		<td>Обязательно</td>
	</tr>
	<tr>
		<td>description</td>
		<td><a href="#misclangmap">Мультиязычное поле</a></td>
		<td>Описание вложения.</td>
		<td>Опционально</td>
	</tr>
	<tr>
		<td>contentType</td>
		<td><a href="https://www.ietf.org/rfc/rfc2046.txt?number=2046">Internet Media Type</a></td>
		<td>Тип содержимого.</td>
		<td>Обязательно</td>
	</tr>
	<tr>
		<td>length</td>
		<td>Целое число</td>
		<td>Объём вложения в байтах.</td>
		<td>Обязательно</td>
	</tr>
	<tr>
		<td>sha2</td>
		<td>Строка</td>
		<td>SHA-2 (SHA-256, SHA-384, SHA-512) хеш влоения. SHA-224 
		НЕ ДОЛЖЕН использоваться: рекомендуется минимальная длина ключа 256 бит.</td>
		<td>Обязательно</td>
	</tr>
	<tr>
		<td>fileUrl</td>
		<td>IRL</td>
		<td>IRL, откуда данные вложения могут быть получены, или откуда
		их обычно получают.</td>
		<td>Optional</td>
	</tr>
</table>

_Процесс передачи вложений_

1. Утверждение, содержащее вложение, переводится в формат Transmission, описанный ниже.

2. Утверждение пересылается принимающей стороне с указанием Content-Type
"multipart/mixed". Вложения размещаются в конце передаваемых данных.

3. Принимающая сторона решает, принять или отклонить такое Утверждение, основываясь на данных в начале.

4. Если вложения приняты, принимающая программа может сопоставить тело вложения с
данными из заголовков в Утверждении, сравнив SHA-2 хеш тела и
указанный в заголовках. Она ОБЯЗАНА НЕ делать это как-либо ещё.

###### Требования к Утвердениям с вложениями

Утверждения, пакеты утверждений и результаты утверждений, содержащие вложения, ОБЯЗАНЫ соответствовать одному из
следующих требований:

* Они ОБЯЗАНЫ иметь тип "application/json" и заполненное поле fileUrl для каждого вложения КРОМЕ случая
результатов Утверждения с выключенным фильтром вложений.
* Они ОБЯЗАНЫ соответствовать определению "multipart/mixed" в стандарте [RFC 1341](http://www.w3.org/Protocols/rfc1341/7_2_Multipart.html) и:
	* Первая часть multipart-документа ОБЯЗАНА содержать собственно Утверждение(я) и имеет тип "application/json".
	* Каждая следующая часть содержит бинарные данные вложения и становится элементом Утверждения. Это
возможно при передаче Утверждений методом PUT или POST.
	* ОБЯЗАНЫ иметь поле X-Experience-API-Hash в заголовках каждой части, начиная со второй (после Утверждения).
	* Это поле ОБЯЗАНО совпадать со свойством "sha2" в описании вложения, передаваемого
	в данной части.
	* ОБЯЗАНЫ иметь поле Content-Transfer-Encoding со значением "binary" в заголовках каждой части, начиная со второй (после Утверждения).
	* ДОЛЖНЫ содержать каждое вложение только один раз, даже если оно используется в нескольких Утверждениях, передаваемых в одном пакете.
	* ДОЛЖНЫ иметь поле Content-type в заголовках каждой части, в первой части оно ОБЯЗАНО быть в значении "application/json".


###### Требования к LRS

* LRS ОБЯЗАН прикреплять вложения в формате Transmission, описанном выше,
при запросе данных клиентом (см. раздел [7.2 "API Утверждений"](#stmtapi)).
* LRS ОБЯЗАН НЕ импортировать Утверждения из других LRS, не запрашивая вложения.
* LRS ОБЯЗАН НЕ экспортировать Утверждения в другие LRS, не прикрепляя вложения,
при наличии таковых.
* При приёме PUT или POST-запроса с типом докуента "application/json", LRS ОБЯЗЯН принимать пакеты
Утверждений, не содержащие вложения.
* При приёме PUT или POST-запроса с типом докуента "application/json", LRS ОБЯЗЯН принимать пакеты
Утверждений, содержащие вложения, в которых заполнено только поле fileUrl.
* При приёме PUT или POST-запроса с типом докуента "multipart/mixed", LRS ОБЯЗЯН принимать пакеты
Утверждений, содержащие вложения в формате Transmission, описанном выше.
* При приёме PUT или POST-запроса с типом докуента "multipart/mixed", LRS ОБЯЗАН отклонять пакеты
Утверждений, содержащие вложения, в которых нет ни поля fileUrl, ни переданного далее тела, хеш-сумма
которого совпадает с указанной в заголовке.
* При приёме PUT или POST-запроса с типом докуента "multipart/mixed", LRS ДОЛЖЕН предполагать, что
заголовок Content-Transfer-Encoding при передаче вложений имеет значение binary.
* LRS МОЖЕТ отклонять Утверждения (и пакеты), объём которых превышает допустимый (специфический для данного LRS).


__Примечание:__ Пакеты утверждений в формате mime/multipart могут не содержать вложения.

###### Требования к клиенту

* Клиент МОЖЕТ отправлять Утверждения с вложениями, как описано выше.
* Клиент МОЖЕТ отправить несколько Утверждений, все или некоторые из которых содержат вложения, используя метод POST.
* Клиент МОЖЕТ отправить пакет типа "application/json", в котором каждое вложение
имеет поле fileUrl, игнорируя требования к формату "multipart/mixed".


###### Пример

Ниже приведён пример очень простого Утверждения с вложением. Пожалуйста, обратите внимание на следующее:

* Разделитель (boundary) в примере отображает допустимые группы символов;
* Выбранный разделитель не встречается внутри разделяемых частей;
* Для наглядности вложение является текстовым (text/plain). Даже при «двоичном»
типе (например, 'image/jpeg') перекодировка не производится, в поток включаются чистые байты;
* Согласно RFC 1341, разделителем является последовательность ```<CRLF>--```со строкой boundary, указанной в заголовке .

Не забывайте о ```<CRLF>```  при генерации и чтении пакетов.

Заголовки:

``` 
Content-Type: multipart/mixed; boundary=abcABC0123'()+_,-./:=?
X-Experience-API-Version:1.0.0
```
Содержимое:
```

--abcABC0123'()+_,-./:=?
Content-Type:application/json

{
    "actor": {
        "mbox": "mailto:sample.agent@example.com",
        "name": "Sample Agent",
        "objectType": "Agent"
    },
    "verb": {
        "id": "http://adlnet.gov/expapi/verbs/answered",
        "display": {
            "en-US": "answered"
        }
    },
    "object": {
        "id": "http://www.example.com/tincan/activities/multipart",
        "objectType": "Activity",
        "definition": {
            "name": {
                "en-US": "Multi Part Activity"
            },
            "description": {
                "en-US": "Multi Part Activity Description"
            }
        }
    },
    "attachments": [
        {
            "usageType": "http://example.com/attachment-usage/test",
            "display": { "en-US": "A test attachment" },
            "description": { "en-US": "A test attachment (description)" },
            "contentType": "text/plain; charset=ascii",
            "length": 27,
            "sha2": "495395e777cd98da653df9615d09c0fd6bb2f8d4788394cd53c56a3bfdcd848a"
        }
    ]
}
--abcABC0123'()+_,-./:=?
Content-Type:text/plain
Content-Transfer-Encoding:binary
X-Experience-API-Hash:495395e777cd98da653df9615d09c0fd6bb2f8d4788394cd53c56a3bfdcd848a

here is a simple attachment
--abcABC0123'()+_,-./:=?--
```
